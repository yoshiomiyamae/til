x86 Assembler
===

## レジスタ
### 汎用レジスタ
| 31 --- 16 | 15 --- 8 | 7 --- 0 | 16bit | 32bit | 説明 |
|---|:-:|:-:|:-:|:-:|---|
| | ah | al | ax | eax | アキュムレータレジスタ。算術演算操作の結果が格納される。 |
| | bh | bl | bx | ebx | ベースレジスタ。セグメントモードでのｄｓに格納されたデータのポインタ。 |
| | ch | cl | cx | ecx | カウンタレジスタ。シフトローテート命令とループ命令に使用される。 |
| | dh | dl | dx | edx | データレジスタ。算術演算操作とI/O操作に使用される。 |
| | | | bp | ebp | スタックベースポインタレジスタ。スタックのベースのポインタ。 |
| | | | si | esi | ソースレジスタ。ストリーム操作でのソースへのポインタ。 |
| | | | di | edi | デスティネーションレジスタ。ストリーム操作でのデスティネーションへのポインタ。 |
| | | | sp | esp | スタックポインターレジスタ。スタックのトップのポインタ。 |

### EFLAGSレジスタ
| 31 | 30 | 29 | 28 | 27 | 26 | 25 | 24 | 23 | 22 | 21 | 20 | 19 | 18 | 17 | 16 |
|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|
| 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | IDフラグ(ID) | 仮想割込保留フラグ(VIP) | 仮想割込フラグ(VIF) | アライメントチェックフラグ(AC) | 仮想8086モード(VM) | 再開フラグ(RF) |

| 15 | 14 | 13 | 12 | 11 | 10 | 9 | 8 | 7 | 6 | 5 | 4 | 3 | 2 | 1 | 0 |
|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|
| 0 | ネストタスクフラグ(NT) | I/O特権レベルフィールド(IOPL) || オーバーフローフラグ(OF) | 方向フラグ(DF) | 割込有効フラグ(IF) | トラップフラグ(TF) | 符号フラグ(SF) | ゼロフラグ(ZF) | 0 | 調整フラグ(AF) | 0 | パリティフラグ(PF) | 0 | キャリーフラグ(CF) |

| フラグ名 | 種類 | 説明 |
|---|---|---|
| IDフラグ(ID) | システムフラグ |  |
| 仮想割込保留フラグ(VIP) | システムフラグ |  |
| 仮想割込フラグ(VIF) | システムフラグ |  |
| アライメントチェックフラグ(AC) | システムフラグ |  |
| 仮想8086モード(VM) | システムフラグ |  |
| 再開フラグ(RF) | システムフラグ |  |
| ネストタスクフラグ(NT) | システムフラグ |  |
| I/O特権レベルフィールド(IOPL) | システムフラグ |  |
| オーバーフローフラグ(OF) | 状態フラグ |  |
| 方向フラグ(DF) | 操作フラグ |  |
| 割込有効フラグ(IF) | システムフラグ |  |
| トラップフラグ(TF) | システムフラグ |  |
| 符号フラグ(SF) | 状態フラグ |  |
| ゼロフラグ(ZF) | 状態フラグ |  |
| 調整フラグ(AF) | 状態フラグ |  |
| パリティフラグ(PF) | 状態フラグ |  |
| キャリーフラグ(CF) | 状態フラグ |  |

### セグメントレジスタ
| 名前 | 説明|
|:-:|---|
| cs | コードセグメント |
| ss | スタックセグメント |
| ds | データセグメント |
| es | エクストラデータセグメント |

## オペコード
### ジャンプ
| 命令 | オペコード | クロック数 | 説明 |
|---|:-:|:-:|---|
| `jmp rel8` | `EB cb` | 7+m |  |
| `jmp rel16` | `E9 cw` | 7+m |  |
| `jmp r/m16` | `FF /4` | 7+m/10+m |  |
| `jmp ptr16:16` | `EA cd` | 12+m, pm=27+m |  |
| `jmp ptr16:16` | `EA cd` | pm=45+m |  |
| `jmp ptr16:16` | `EA cd` | ts |  |
| `jmp ptr16:16` | `EA cd` | ts |  |
| `jmp m16:16` | `FF /5` | 43+m, pm=31+m |  |
| `jmp m16:16` | `FF /5` | pm=49+m |  |
| `jmp m16:16` | `FF /5` | 5+ts |  |
| `jmp m16:16` | `FF /5` | 5+ts |  |
| `jmp rel32` | `E9 cd` | 7+m |  |
| `jmp r/m32` | `FF /4` | 7+m, 10+m |  |
| `jmp ptr16:32` | `EA cp` | 12+m, pm=27+m |  |
| `jmp ptr16:32` | `EA cp` | pm=45+m |  |
| `jmp ptr16:32` | `EA cp` | ts |  |
| `jmp ptr16:32` | `EA cp` | ts |  |
| `jmp m16:32` | `FF /5` | 43+m, pm=31m |  |
| `jmp m16:32` | `FF /5` | pm=49+m |  |
| `jmp m16:32` | `FF /5` | 5+ts |  |
| `jmp m16:32` | `FF /5` | 5+ts |  |

### 文字列読み込み
| 命令 | オペコード | クロック数 | 説明 |
|---|:-:|:-:|---|
| `lods m8` | `AC` | 5 | byte ds:[(e)si]をalに読み込みます |
| `lods m16` | `AD` | 5 | word ds:[(e)si]をaxに読み込みます |
| `lods m32` | `AD` | 5 | dword ds:[(e)si]をeaxに読み込みます |
| `lodsb` | `AC` | 5 | byte ds:[(e)si]をalに読み込みます |
| `lodsw` | `AD` | 5 | word ds:[(e)si]をaxに読み込みます |
| `lodsd` | `AD` | 5 | dword ds:[(e)si]をeaxに読み込みます |
